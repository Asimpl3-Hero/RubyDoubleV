# ==============================================
# CONFIGURACIÓN GENERAL
# ==============================================
# Opciones: development | production
RACK_ENV=development

# ==============================================
# CLIENTES SERVICE (Puerto 4001)
# ==============================================
CLIENTES_PORT=4001
CLIENTES_DATABASE_URL=sqlite3:db/clientes.sqlite3

# ==============================================
# FACTURAS SERVICE (Puerto 4002)
# ==============================================
FACTURAS_PORT=4002
FACTURAS_DATABASE_URL=sqlite3:db/facturas.sqlite3

# ==============================================
# AUDITORÍA SERVICE (Puerto 4003)
# ==============================================
AUDITORIA_PORT=4003
MONGO_URL=localhost:27017
MONGO_DATABASE=auditoria_db
MONGO_USERNAME=admin
MONGO_PASSWORD=change_me_in_production

# ==============================================
# RABBITMQ (Message Broker para comunicación asíncrona)
# ==============================================
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=factumarket_rabbit_2025
# Para Docker Compose (recomendado):
RABBITMQ_URL=amqp://admin:factumarket_rabbit_2025@rabbitmq:5672
# Para desarrollo local sin Docker:
# RABBITMQ_URL=amqp://admin:factumarket_rabbit_2025@localhost:5672

# ==============================================
# URLs DE SERVICIOS
# ==============================================
# Configuración según entorno:

# 1. DESARROLLO LOCAL (sin Docker):
# CLIENTES_SERVICE_URL=http://localhost:4001
# AUDITORIA_SERVICE_URL=http://localhost:4003

# 2. DOCKER COMPOSE LOCAL (RECOMENDADO):
MONGO_URL=factumarket-mongodb:27017
CLIENTES_SERVICE_URL=http://factumarket-clientes:4001
AUDITORIA_SERVICE_URL=http://factumarket-auditoria:4003

# 3. PRODUCCIÓN (Dokploy con dominios públicos):
# RACK_ENV=production
# MONGO_URL=factumarket-mongodb:27017
# CLIENTES_SERVICE_URL=https://clientes-ruby-double-v.ondeploy.space
# AUDITORIA_SERVICE_URL=https://auditoria-ruby-double-v.ondeploy.space

# ==============================================
# JWT CONFIGURATION (REQUERIDO)
# ==============================================
# Generar con: openssl rand -hex 32
# O usar este valor por defecto para desarrollo:
JWT_SECRET_KEY=160b6ba480729089b07d54020388926db99330c793e77fb6530262f973121077

# ==============================================
# INSTRUCCIONES
# ==============================================
# 1. Copia este archivo: cp .env.example .env
# 2. Ajusta los valores según tu entorno (ver comentarios arriba)
# 3. NUNCA versiones el archivo .env (ya está en .gitignore)
# 4. Para Docker Compose: usa las URLs con nombres de contenedores
# 5. En Dokploy, configura las variables de producción directamente en la interfaz
